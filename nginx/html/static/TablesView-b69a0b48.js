import{_ as G}from"./index-2c25bdbe.js";/* empty css                    *//* empty css                 *//* empty css               */import{U as j,_ as Q,m as q,$ as J,M as K,a0 as W,V as X}from"./element-deea76d4.js";import{H as N,ah as Y,l as o,O as t,P as i,R as z,I as _,m as s,U as y,F as C,a8 as b,aa as A,ac as B,am as F,p as H,T as Z,L as T,a as I,e as L,Q as x,u as ee,V as ne,S as O}from"./vue-657d2c67.js";const oe={key:2},ae={key:2},le={key:0},te={key:1},se={key:5},re=N({__name:"TableColumn",props:{col:{}},emits:["command"],setup(D,{emit:R}){const r=(e,{row:f,$index:g})=>{R("command",e,f,g)};return(e,f)=>{var S;const g=Y("TableColumn",!0),h=j,m=Q,P=q,V=J;return(S=e.col.children)!=null&&S.length?(o(),t(h,{key:0,label:e.col.label,width:e.col.width,align:e.col.align},{header:i(({column:a,$index:l})=>[e.col.headerRender?(o(),t(z(e.col.headerRender),{key:0,column:a,index:l},null,8,["column","index"])):e.col.headerSlot?_(e.$slots,e.col.headerSlot,{key:1,column:a,index:l}):(o(),s("span",oe,y(a.label),1))]),default:i(()=>[(o(!0),s(C,null,b(e.col.children,a=>(o(),t(g,{col:a,key:a.prop},A({_:2},[b(Object.keys(e.$slots),l=>({name:l,fn:i(k=>[_(e.$slots,l,B(F(k)))])}))]),1032,["col"]))),128))]),_:3},8,["label","width","align"])):(o(),t(h,B(T({key:1},e.col)),{header:i(({column:a,$index:l})=>[e.col.headerRender?(o(),t(z(e.col.headerRender),{key:0,column:a,index:l},null,8,["column","index"])):e.col.headerSlot?_(e.$slots,e.col.headerSlot,{key:1,column:a,index:l}):(o(),s("span",ae,y(a.label),1))]),default:i(({row:a,$index:l})=>{var k;return[e.col.type==="image"?(o(),t(m,{key:0,"preview-teleported":"","hide-on-click-modal":!0,"preview-src-list":[a[e.col.prop]],src:a[e.col.prop],fit:"cover",class:"w-9 h-9 rounded-lg"},null,8,["preview-src-list","src"])):e.col.type==="date"?(o(),s(C,{key:1},[a[e.col.prop]?(o(),s("span",le,y(a[e.col.prop]),1)):(o(),s("span",te,y(),1))],64)):(k=e.col.buttons)!=null&&k.length?(o(),t(V,{key:2},{default:i(()=>[H("div",null,[(o(!0),s(C,null,b(e.col.buttons,(u,E)=>(o(),t(P,{key:E,size:u.size,type:u.type,icon:u.icon,onClick:n=>r(u.command,{row:a,$index:l})},{default:i(()=>[Z(y(u.name),1)]),_:2},1032,["size","type","icon","onClick"]))),128))])]),_:2},1024)):e.col.render?(o(),t(z(e.col.render),{key:3,row:a,index:l},null,8,["row","index"])):e.col.slot?_(e.$slots,e.col.slot,{key:4,row:a,index:l}):(o(),s("span",se,y(a[e.col.prop]),1))]}),_:3},16))}}}),ie={key:0,class:"page-choose"},ce=N({__name:"TablesView",props:{tableData:{},columns:{},options:{}},emits:["selection-change","row-click","cell-click","command","size-change","current-change","pagination-change","sort-change"],setup(D,{expose:R,emit:r}){const e=D,f=I(!0);e.tableData&&setTimeout(()=>{f.value=!1},500);const g=I(),h=L(()=>Object.assign({stripe:!1,tooltipEffect:"dark",showHeader:!0,showPagination:!1},e==null?void 0:e.options)),m=L(()=>Object.assign({total:0,currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,100],layout:"total,prev, pager, next,sizes"},h.value.paginationConfig)),P=n=>n+(m.value.currentPage-1)*m.value.pageSize+1,V=n=>{r("size-change",n),r("pagination-change",1,n)},S=n=>{r("current-change",n),r("pagination-change",n,m.value.pageSize)},a=(n,d,c)=>{r("command",n,d,c)},l=n=>{r("selection-change",n)},k=(n,d,c)=>{r("row-click",n,d,c)},u=(n,d,c,$)=>{r("cell-click",n,d,c,$)},E=({column:n,prop:d,order:c})=>{r("sort-change",{column:n,prop:d,order:c})};return R({element:g}),(n,d)=>{const c=j,$=K,M=W;return o(),s("div",null,[H("div",null,[x((o(),t(ee(X),T({ref_key:"tableRef",ref:g,data:n.tableData,"element-loading-text":"Loading..."},h.value,{onSelectionChange:l,onRowClick:k,onCellClick:u,onSortChange:E}),{default:i(()=>[(o(!0),s(C,null,b(n.columns,(p,U)=>(o(),s(C,{key:U},[p.type==="index"||p.type==="selection"||p.type==="expand"?(o(),t(c,T({key:0,index:P},p),{default:i(({row:v,$index:w})=>[p.render?(o(),t(z(p.render),{key:0,row:v,index:w},null,8,["row","index"])):p.slot?_(n.$slots,"expand",{key:1,row:v,index:w},void 0,!0):O("",!0)]),_:2},1040)):(o(),t(re,{key:1,col:p,onCommand:a},A({_:2},[b(Object.keys(n.$slots),v=>({name:v,fn:i(w=>[_(n.$slots,v,B(F(w)),void 0,!0)])}))]),1032,["col"]))],64))),128))]),_:3},16,["data"])),[[M,f.value]])]),h.value.showPagination?(o(),s("div",ie,[ne($,T({background:""},m.value,{onSizeChange:V,onCurrentChange:S}),null,16)])):O("",!0)])}}});const ke=G(ce,[["__scopeId","data-v-8b9388a0"]]);export{ke as T};
